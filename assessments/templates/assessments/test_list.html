{% extends "base.html" %}
{% block title %}Tests{% endblock %}

{% block content %}
<h2>Available Tests</h2>

<ul>
  {% for t in tests %}
    <li>
      <strong>{{ t.title }}</strong> ({{ t.get_test_type_display }})
      <a href="{% url 'assessments:start' t.id %}">Start / Resume â†’</a>

      {% with progress=test_progress|index:forloop.counter0 %}
        <ul>
          {% for s in progress.skillsets %}
            <li>
              {% if s.completed %}
                âœ… {{ s.title }}
              {% else %}
                âŒ {{ s.title }}
              {% endif %}
            </li>
          {% endfor %}
        </ul>

        <p>
          Status:
          {% if progress.unlocked %}
            âœ… Test Unlocked
          {% else %}
            ğŸ”’ Locked â€“ Complete all SkillSets
          {% endif %}
        </p>
      {% endwith %}
    </li>
  {% empty %}
    <li>No tests available.</li>
  {% endfor %}
</ul>
{% endblock %}
